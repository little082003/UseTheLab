document.addEventListener('DOMContentLoaded', () => {
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢
    const modal = document.getElementById("myModal");
    const closeBtn = document.getElementsByClassName("close-btn")[0];
    const cards = document.querySelectorAll('.card');
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");

    // ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Pop-up
    const modalContent = {
        'ppe': {
            title: "üëï ‡πÅ‡∏ß‡πà‡∏ô‡∏ï‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏•‡∏∏‡∏°‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£",
            body: `
                <p>‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà <strong>PPE (Personal Protective Equipment)</strong> ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡πà‡∏≤‡∏ô‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á:</p>
                <ul>
                    <li><strong>‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏•‡∏∏‡∏°‡πÅ‡∏•‡∏ö (Lab Coat):</strong> ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏¥‡∏î‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ.</li>
                    <li><strong>‡πÅ‡∏ß‡πà‡∏ô‡∏ï‡∏≤‡∏ô‡∏¥‡∏£‡∏†‡∏±‡∏¢ (Safety Goggles):</strong> ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏î‡∏ß‡∏á‡∏ï‡∏≤‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ.</li>
                    <li><strong>‡∏ñ‡∏∏‡∏á‡∏°‡∏∑‡∏≠:</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ (‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏ô‡πÑ‡∏ï‡∏£‡∏•‡πå).</li>
                </ul>
                <p><strong>‚ùå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:</strong> ‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏ß‡∏°‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡πÅ‡∏ï‡∏∞ ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏±‡∏î‡∏ú‡∏°‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</p>
            `
        },
        'corrosive': {
            title: "‚ö†Ô∏è ‡∏Å‡∏£‡∏î‡πÅ‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô (Corrosive Agents)",
            body: `
                <p>‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏§‡∏ó‡∏ò‡∏¥‡πå<strong>‡∏Å‡∏±‡∏î‡∏Å‡∏£‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏¢‡∏∑‡πà‡∏≠</strong>‡πÑ‡∏î‡πâ‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏î‡∏ã‡∏±‡∏•‡∏ü‡∏¥‡∏ß‡∏£‡∏¥‡∏Å (H‚ÇÇSO‚ÇÑ) ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå (NaOH).</p>
                <h3>‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</h3>
                <ol>
                    <li><strong>‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏∑‡∏≠‡∏à‡∏≤‡∏á:</strong> ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏¥‡∏° <strong>‡∏Å‡∏£‡∏î‡∏•‡∏á‡πÉ‡∏ô‡∏ô‡πâ‡∏≥</strong> ‡πÄ‡∏™‡∏°‡∏≠ ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡πâ‡∏≤ ‡πÜ ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏•‡∏á‡πÉ‡∏ô‡∏Å‡∏£‡∏î‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!</li>
                    <li><strong>‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏ó:</strong> ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏ô <strong>‡∏ï‡∏π‡πâ‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏±‡∏ô (Fume Hood)</strong> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô.</li>
                    <li><strong>‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•:</strong> ‡∏´‡∏≤‡∏Å‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏°‡∏≤‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 15 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ.</li>
                </ol>
                <p style="font-style: italic;">**‡∏à‡∏≥‡πÑ‡∏ß‡πâ‡πÄ‡∏™‡∏°‡∏≠: Add Acid to Water**</p>
            `
        }
        // ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô 'flammable': { ... }
    };

    // 1. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà Card
    cards.forEach(card => {
        card.addEventListener('click', function() {
            const topic = this.getAttribute('data-topic');
            const content = modalContent[topic];

            if (content) {
                modalTitle.innerHTML = content.title;
                modalBody.innerHTML = content.body;
                modal.style.display = "block";
            }
        });
    });

    // 2. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î (x)
    closeBtn.onclick = function() {
        modal.style.display = "none";
    }

    // 3. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å Modal
    window.onclick = function(event) {
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }
});